-- LocalScript (StarterPlayerScripts or StarterGui)

-- Load the fixed ZenScript library
local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/WHOLEBAKERY/zenlib/refs/heads/main/zenlib"))()

-- Create the main window
Library:Window("ZenScript")

-- =====================
-- Tab 1: Zone
-- =====================
local ZoneTab = Library.CreateTab("Zone")

-- Infinite Jump
ZoneTab:CreateToggle("Infinite Jump", function(state)
    if state then
        _G.InfJumpEnabled = true
        game:GetService("UserInputService").JumpRequest:Connect(function()
            if _G.InfJumpEnabled then
                local plr = game.Players.LocalPlayer
                local hum = plr.Character and plr.Character:FindFirstChildOfClass("Humanoid")
                if hum then
                    hum.Jump = true
                end
            end
        end)
    else
        _G.InfJumpEnabled = false
    end
end)

-- No Clip
local noclipEnabled = false
ZoneTab:CreateToggle("No Clip", function(state)
    noclipEnabled = state
end)

-- Heartbeat for NoClip
game:GetService("RunService").Stepped:Connect(function()
    if noclipEnabled then
        local char = game.Players.LocalPlayer.Character
        if char then
            for _, part in pairs(char:GetChildren()) do
                if part:IsA("BasePart") then
                    part.CanCollide = false
                end
            end
        end
    else
        local char = game.Players.LocalPlayer.Character
        if char then
            for _, part in pairs(char:GetChildren()) do
                if part:IsA("BasePart") then
                    part.CanCollide = true
                end
            end
        end
    end
end)

-- =====================
-- Tab 2: Shane
-- =====================
local ShaneTab = Library.CreateTab("Shane")

-- ESP Button
ShaneTab:CreateButton("ESP", function()
    for _, player in pairs(game.Players:GetPlayers()) do
        if player ~= game.Players.LocalPlayer then
            local highlight = Instance.new("Highlight")
            highlight.Parent = player.Character or player.CharacterAdded:Wait()
            highlight.FillColor = Color3.fromRGB(255, 0, 0)
            highlight.OutlineColor = Color3.fromRGB(0, 0, 0)
            highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
        end
    end
    print("ESP Enabled")
end)

-- Float Button
ShaneTab:CreateButton("Float", function()
    local plr = game.Players.LocalPlayer
    local char = plr.Character
    if char then
        local root = char:FindFirstChild("HumanoidRootPart")
        if root and not root:FindFirstChild("FloatForce") then
            local bodyForce = Instance.new("BodyForce")
            bodyForce.Name = "FloatForce"
            bodyForce.Force = Vector3.new(0, workspace.Gravity * root:GetMass(), 0)
            bodyForce.Parent = root
            print("Float Enabled")
        end
    end
end)
